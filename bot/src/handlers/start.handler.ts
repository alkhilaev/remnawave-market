import { Markup } from 'telegraf';
import { BotContext } from '../types/context';

export async function startHandler(ctx: BotContext) {
  const firstName = ctx.from?.first_name || '–¥—Ä—É–≥';

  const welcomeMessage = `
üëã –ü—Ä–∏–≤–µ—Ç, ${firstName}!

–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ **Remnawave Market** ‚Äî –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å –ø–æ–¥–ø–∏—Å–æ–∫ –Ω–∞ VPN.

üîê –ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ:
‚Ä¢ –í—ã–±—Ä–∞—Ç—å –ø–æ–¥—Ö–æ–¥—è—â–∏–π —Ç–∞—Ä–∏—Ñ–Ω—ã–π –ø–ª–∞–Ω
‚Ä¢ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–ø–∏—Å–∫–∏ (—Ç—Ä–∞—Ñ–∏–∫, —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞)
‚Ä¢ –û–ø–ª–∞—Ç–∏—Ç—å –∏ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ VPN

–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–∏–∂–µ:
  `.trim();

  await ctx.reply(welcomeMessage, {
    parse_mode: 'Markdown',
    ...Markup.inlineKeyboard([
      [Markup.button.callback('üì¶ –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–∞—Ä–∏—Ñ—ã', 'view_plans')],
      [Markup.button.callback('‚ÑπÔ∏è –ü–æ–º–æ—â—å', 'help')],
    ]),
  });
}

export async function helpHandler(ctx: BotContext) {
  const helpMessage = `
‚ÑπÔ∏è **–ü–æ–º–æ—â—å**

**–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:**
/start ‚Äî –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
/plans ‚Äî –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–∞—Ä–∏—Ñ—ã
/help ‚Äî –ü–æ–∫–∞–∑–∞—Ç—å —ç—Ç—É —Å–ø—Ä–∞–≤–∫—É

**–ö–∞–∫ –∫—É–ø–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É:**
1Ô∏è‚É£ –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∞—Ä–∏—Ñ–Ω—ã–π –ø–ª–∞–Ω
2Ô∏è‚É£ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–∏–æ–¥ –∏ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è
3Ô∏è‚É£ –û–ø–ª–∞—Ç–∏—Ç–µ –≤—ã–±—Ä–∞–Ω–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
4Ô∏è‚É£ –ü–æ–ª—É—á–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ VPN

**–ü–æ–¥–¥–µ—Ä–∂–∫–∞:**
–ü–æ –≤—Å–µ–º –≤–æ–ø—Ä–æ—Å–∞–º –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å: @support
  `.trim();

  await ctx.reply(helpMessage, {
    parse_mode: 'Markdown',
  });
}
